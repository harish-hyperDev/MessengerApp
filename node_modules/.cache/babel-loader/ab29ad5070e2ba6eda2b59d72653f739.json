{"ast":null,"code":"var _jsxFileName = \"F:\\\\CooL\\\\Websites\\\\chat-app\\\\mitai-app\\\\src\\\\App.js\";\n//import logo from './logo.svg';\n//import { initializeApp } from \"firebase/app\";\nimport './App.css';\nimport React, { useEffect, useState } from \"react\";\nimport Button from '@mui/material/Button'; // Import the functions you need from the SDKs you need\n//import { initializeApp } from \"firebase/app\";\n\nimport { FormControl, InputLabel, Input } from '@mui/material';\nimport Message from './Message';\nimport dbb from './firebase';\nimport { query, onSnapshot, collection } from \"firebase/firestore\";\nimport { addDoc } from \"firebase/firestore\";\nimport firebase from 'firebase/compat'; //import { FieldValue } from 'firebase/firestore';\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\nfunction App() {\n  const [input, setInput] = useState('');\n  const [messages, setMessages] = useState([//{username: 'diablo', message: 'bo aki mayiro.. shamu nuga'},\n    //{username: 'hyperx', message: 'owai moo'}\n  ]);\n  const [username, setUsername] = useState(''); // useEffect is used for running a piece of code based on a condition  \n\n  useEffect(() => {\n    const q = query(collection(dbb, \"messages\"));\n    const unsub = onSnapshot(q, querySnapshot => {\n      //setMessages(\"Messages\", querySnapshot.docs.map(d => doc.data()));\n      querySnapshot.forEach(doc => {\n        setMessages(querySnapshot.docs.map(doc => doc.data()));\n      });\n      console.log(unsub);\n      /*\n        dbb.collection('messages').onSnapshot(snapshot => {\n          setMessages(snapshot.docs.map(doc => doc.data()))\n      */\n    });\n  }, []);\n  /*\n  useEffect(() => {\n    const q = query(collection(dbb, \"messages\"))\n    const unsub = onSnapshot(q, (querySnapshot) => {\n    //setMessages(\"Messages\", querySnapshot.docs.map(d => doc.data()));\n      querySnapshot.forEach((doc) => {\n        messages.add({username: username, message: input});\n      });\n      console.log(unsub);    \n    });\n  }, [] );*/\n\n  useEffect(() => {\n    setUsername(prompt('Enter your username'));\n  }, []); // [] is condition, if left blank code will run only once when \"app\" component loads\n\n  /* \n    so if we use the input variable value changes the \"code\" in useEffect will run\n    its really cool as \"input\" variable is a useState so \"input\" will change instaneously without any refresh and \"useEffect\" will run automatically as \"input\" is changing \n  */\n\n  console.log(input);\n  console.log(messages);\n\n  const sendMessage = event => {\n    event.preventDefault(); //for not refreshing the page for form\n    //setMessages( [...messages, {username: username, message: input} ]);\n    // all the logic to send message\n\n    /*async () => {\n      try{\n          await addDoc(doc(dbb, \"messages\"), {\n            username: username,\n            message: input,\n        })\n        return 1;\n      }\n      catch (error) {console.log(error)}\n       \n    }*/\n\n    try {\n      const docRef = addDoc(collection(dbb, \"messages\"), {\n        username: username,\n        message: input,\n        timestamp: firebase.firestore.Timestamp.now()\n      });\n      console.log(\"Document written with ID: \", docRef.id);\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n    /*\n     async () => {\n       const citiesCol = collection(dbb, 'cities');\n       const citySnapshot = await setDocs(citiesCol);\n     }*/\n\n\n    setInput('');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, \"GHOST Chat\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, \"Sup' \", username), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, \"Enter message..\"), /*#__PURE__*/React.createElement(Input, {\n    value: input,\n    onChange: event => setInput(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    disabled: !input,\n    type: \"submit\",\n    onClick: sendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, \"Send Message\"))), messages.map(message => /*#__PURE__*/React.createElement(Message, {\n    username: username,\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }) //<p>{message}</p>\n  ));\n}\n\nexport default App;","map":{"version":3,"sources":["F:/CooL/Websites/chat-app/mitai-app/src/App.js"],"names":["React","useEffect","useState","Button","FormControl","InputLabel","Input","Message","dbb","query","onSnapshot","collection","addDoc","firebase","App","input","setInput","messages","setMessages","username","setUsername","q","unsub","querySnapshot","forEach","doc","docs","map","data","console","log","prompt","sendMessage","event","preventDefault","docRef","message","timestamp","firestore","Timestamp","now","id","e","error","target","value"],"mappings":"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","sourcesContent":["//import logo from './logo.svg';\n//import { initializeApp } from \"firebase/app\";\nimport './App.css';\nimport React, { useEffect, useState } from \"react\";\nimport Button from '@mui/material/Button'\n// Import the functions you need from the SDKs you need\n//import { initializeApp } from \"firebase/app\";\nimport { FormControl, InputLabel, Input } from '@mui/material';\nimport Message from './Message';\nimport dbb from './firebase';\nimport { query, onSnapshot, collection } from \"firebase/firestore\";\nimport { addDoc } from \"firebase/firestore\"; \nimport firebase from 'firebase/compat';\n//import { FieldValue } from 'firebase/firestore';\n\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n\nfunction App() {\n\n  const [input, setInput] = useState('');\n  const [messages, setMessages] = useState([\n    //{username: 'diablo', message: 'bo aki mayiro.. shamu nuga'},\n    //{username: 'hyperx', message: 'owai moo'}\n  ]);\n  const [username, setUsername] = useState('');\n\n  // useEffect is used for running a piece of code based on a condition  \n\n  useEffect(() => { \n    const q = query(collection(dbb,\"messages\"))\n    \n    const unsub = onSnapshot(q, (querySnapshot) => {      \n      //setMessages(\"Messages\", querySnapshot.docs.map(d => doc.data()));\n      querySnapshot.forEach((doc) => {\n        setMessages(querySnapshot.docs.map(doc => doc.data()));\n      });\n    console.log(unsub);\n    \n    /*\n      dbb.collection('messages').onSnapshot(snapshot => {\n        setMessages(snapshot.docs.map(doc => doc.data()))\n    */\n    });\n  }, [] )\n\n  /*\n  useEffect(() => {\n    const q = query(collection(dbb, \"messages\"))\n    const unsub = onSnapshot(q, (querySnapshot) => {\n    //setMessages(\"Messages\", querySnapshot.docs.map(d => doc.data()));\n      querySnapshot.forEach((doc) => {\n        messages.add({username: username, message: input});\n      });\n      console.log(unsub);    \n    });\n  }, [] );*/\n\n\n  \n  useEffect(() => {\n    setUsername(prompt('Enter your username'));\n  }, [] ) // [] is condition, if left blank code will run only once when \"app\" component loads\n\n  /* \n    so if we use the input variable value changes the \"code\" in useEffect will run\n    its really cool as \"input\" variable is a useState so \"input\" will change instaneously without any refresh and \"useEffect\" will run automatically as \"input\" is changing \n  */\n\n  \n\n  console.log(input);\n  console.log(messages);\n\n  const sendMessage = (event) => {\n    event.preventDefault();   //for not refreshing the page for form\n\n\n    //setMessages( [...messages, {username: username, message: input} ]);\n\n    // all the logic to send message\n    /*async () => {\n      try{\n          await addDoc(doc(dbb, \"messages\"), {\n            username: username,\n            message: input,\n        })\n        return 1;\n      }\n      catch (error) {console.log(error)}\n\n      \n    }*/\n\n    try {\n      const docRef = addDoc(collection(dbb, \"messages\"), {\n        username: username,\n        message: input,    \n        timestamp: firebase.firestore.Timestamp.now(),\n      });\n      console.log(\"Document written with ID: \", docRef.id);\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n    \n   /*\n    async () => {\n      const citiesCol = collection(dbb, 'cities');\n      const citySnapshot = await setDocs(citiesCol);\n    }*/\n    \n\n    setInput('');\n  }\n\n  \n\n  return (\n    <div className=\"App\">\n      <h1>GHOST Chat</h1>\n      <h2>Sup' {username}</h2>\n\n      \n\n      {/*input field*/}\n      <form>\n      <FormControl>\n        <InputLabel>Enter message..</InputLabel>\n        <Input value={input} onChange={event => setInput(event.target.value)}/>\n        <Button variant=\"contained\" color=\"primary\" disabled={!input} type='submit' onClick={sendMessage}>Send Message</Button>\n      </FormControl>                \n      </form>\n      \n      {/*messages*/}\n      {\n        \n        messages.map(message => (\n          <Message username={username} message={message} />\n          //<p>{message}</p>\n        ))\n      }\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}